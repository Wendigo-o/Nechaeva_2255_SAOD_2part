Назначение квалификаторов const в rfind
Возвращение индекса начала последнего вхождения образца осуществляется с помощью метода int rfind(const char *t, int off) const. 
Во избежание изменения искомой подстроки квалификатор const ставится перед char *t, а const после скобок предотвращает изменение исходной строки.
Реализация подсчета ссылок
Имеется два класса. Первый класс позволяет управлять ресурсами Он отвечает за хранение указателя на данные и кол-во ссылок на них, а еще этот класс включает в себя метод добавления и удаления ссылки. 
В первом случае счетчик ссылок увеличивается на один, а во втором – уменьшается на один или удаляет сам себя, если это была последняя ссылка. 
Второй класс для строк, который содержит указатель на класс управления ресурсами. 
В этом классе присутствует конструктор копирования, который увеличивает счетчик ссылок вместо создания копии объекта и деструктор, который, наоборот, уменьшает счетчик. Это позволяет избежать излишнего копирования, т. к. мы просто изменяем количество ссылок на объект.
Смысл разделения при изменении
Для изменения одного из объектов понадобится копирование (иными словами —разделять данные), иначе изменятся и все остальные объекты, которые указывают на эти данные. 
Чтобы это сделать, нужно выделить память под изменение данных, уменьшить счетчик ссылок у старых данных и поставить указатель на новый ресурс.
